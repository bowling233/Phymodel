# 用户手册和技术文档

## 一、界面简介和使用方法

### 1.数据生成器

数据生成器使用Qt6.6编写，界面如下图所示

界面左侧有3个栏目用于配置数据参数：

* 简单栏目
    * 球体信息：半径，质量，平均速度，间距，每边个数
    * 容器信息：各棱长度
* 高级栏目
    * 球体信息：半径、质量随机分布，总体分布形状（球形和矩阵）
    * 容器信息：中心位置
* 理想气体：默认设置好氧气分子的信息，关闭OpenGL，不输出数据，不显示帧率，显示系统信息
    * 容器边长(um)
    * 压强
    * 温度

> 提醒：压强并不会影响理想气体的速率分布，仅影响气体分子的个数和间距。需要严密设计数据生成器。
> 还原实验6的计算思虑：给出体积、给出压强，由理想气体状态方程可以得到该体积内的气体分子数$$n=\frac{pV}{RT}$$依据该分子数进行分布设计

### 2.模拟程序

模拟程序无需用户操作。模拟程序`main(int argc, char * argv[])`函数接收一个argv字符串作为参数，自动读取数据并运行。

## 二、数据文档规范

数据文档分区设计如下：

* Line1:控制变量，0表示关闭，1表示开启
    * OpenGL可视化
    * 关闭窗口时输出数据到result.txt
    * 显示帧率
    * 显示系统信息
* Line2:相机数据
    * CameraLoc:相机位置
    * LookAt:视点位置
    * rot_v:环绕旋转角速度
    * fps:指定系统运动速度，系统运动时间为1/fps
* Line3-End:CollisionSystem系统信息
    * 读取至该部分时ifstrm文件输入流控制权转交至`CollisionSystem::init()`函数
    * 第一行用一个大写字母表示其类型，一个数字表示该物体的数量n
    * 重复执行n次该物体的输入函数，读取n个物体
    * 若没到文件尾，则重复操作

数据文档中，统一使用`\t`制表符分割数字、字母，便于excel识别。浮点数统一设置`std::setprecision(8) << std::fixed;`

输出文件不包括Line1-2。示例输入文件如图所示

```txt
1   1   1   1
5  5  5  0   0   0   0.05 60.0
C   1
0	0	0   4.5	4.5	4.5
B   8
-0.75	-0.75	-0.75	1.88076	2.03076	0.731008	1	0.5
-0.75	-0.75	0.75	0.280817	-2.02327	-0.129921	1	0.5
-0.75	0.75	-0.75	-0.413147	-0.65409	0.724323	1	0.5
-0.75	0.75	0.75	0.263846	0.997354	0.788994	1	0.5
0.75	-0.75	-0.75	2.44584	1.01916	-0.7603	1	0.5
0.75	-0.75	0.75	-0.16675	-1.75322	0.298298	1	0.5
0.75	0.75	-0.75	2.06121	0.261415	1.07991	1	0.5
0.75	0.75	0.75	0.444628	0.923812	0.181061	1	0.5
```

## 三、应用程序接口
